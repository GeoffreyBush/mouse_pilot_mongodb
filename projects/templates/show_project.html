{% extends 'base_template.html' %} {% load static %}
{% block title %}View Project{% endblock %} {% block content %}

<div class="container-fluid py-3">

	<div class="d-flex justify-content-between align-items-center mb-3">
		<h1>{{ project.project_name }}</h1>
	</div>

	<!-- Filter form -->
	<form method="get" class="mb-3">
		{% csrf_token %}
		<div class="row border">
			<div class="col-md-8 p-2">
				{% for field in project_mice.form %}
				<span class="p-2">
				{{ field.label }}
				{{ field }}
				</span>
				{% endfor %}
			</div>
			<div class="d-flex align-items-center justify-content-around col-md-4">
				<button type="submit" name="search" class="btn btn-primary">Search</button>
				<button type="submit" name="cancel" class="btn btn-secondary">Cancel</button>
			</div>
		</div>
	</form>

	<!-- Table of mice -->
	<form method="post" action="{% url 'projects:show_project' project_name=project.project_name %}">
		{% csrf_token %}
		<div class="d-flex justify-content-start align-items-center mb-3 gap-2">
			<button class="btn btn-primary" name="add_request" type="submit">Add Request</button>
			{% for error in form.mice.errors %}
			<div class="align-self-center" role="alert"><b>{{ error }}</b></div>
			{% endfor %}
		</div>
		<table class="table table-striped table-hover table-bordered">
			<thead class="thead-light">
				<tr class="sticky-top">
					<th>Select</th>
					<th>Mouse ID</th>
					<th>Genotyped</th>
					<th>Date of Birth</th>
					<th>Sex</th>
					<th>Earmark</th>
					<th>Tree</th>
					<th>Edit</th>
					<th>Delete</th>
				</tr>
			</thead>
			<tbody>
			{% for mouse in project_mice.qs %}
			<tr> <!--{% if mouse.id in mice_ids_with_requests %} class="highlighted-request" {% endif %} id="row{{ mouse.id }}"-->
				<td><input type="checkbox" name="mice" value='{{ mouse.pk }}'></td>
				<td>{{ mouse.pk }}</td>
				<td>{{ mouse.dob }}</td>
				<td>{{ mouse.age }}</td>
				<td>{{ mouse.sex }}</td>
				<td>{{ mouse.earmark }}</td>
				
				
				<td>edit</td>
				<td>
					<a onclick="return confirm('Are you sure you want to delete this mouse?')" href="#">
						del-nolink
					</a>
				</td>
			</tr>
			{% endfor %}
			</tbody>
		</table>
	</form>
		
</div>
<script src="https://d3js.org/d3.v5.min.js"></script>
{% endblock %}
```